<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="theme-color" content="#000000">
	<title>React App</title>
</head>

<body>
	<div style="width: 10px;height: 10px;background: #ccc;">one</div>
	<div style="width: 10px;height: 10px;background: #ccc;">two</div>
	<script>

		function log(...args) {
			console.log.apply(console, args);
		}

		// 数组中的数据值按索引排序。
		/* const arr = ['A', 'B', 'C', 'D'];
		log(arr.indexOf('A')); // Result: 0
		log(arr.indexOf('C')); // Result: 2
		log(arr.includes('C')) */ // true
		// set是一个键的集合。 set不使用索引，而是使用键对数据排序。 set 中的元素按插入顺序是可迭代的，它不能包含任何重复的数据。换句话说， set中的每一项都必须是惟一的。

		/* let arr = [], set = new Set(), n = 1000000;
		for (let i = 0; i < n; i++) {
			arr.push(i);
			set.add(i);
		}

		let result;
		console.time('Array');
		result = arr.indexOf(123123) !== -1;
		console.timeEnd('Array');

		console.time('Set');
		result = set.has(123123);
		console.timeEnd('Set'); */

		// ES6 提供了新的数据结构 Set。它类似于数组，但是成员的值都是唯一的，没有重复的值。Set本身是一个构造函数，用来生成 Set 数据结构。
		/* const s = new Set();  // 不加分号报错...
		[2, 3, 5, 4, 5, 2, 2].forEach(item => s.add(item))
		log(s)  //  Set(4) {2, 3, 5, 4}
		for (let i of s) {
			log(i)
		} */

		/* const set1 = new Set([1, 2, 3,89,8,89, 4, 4])
		log(set1)
		log(set1.size) // 6
		log(...set1) */  // 1 2 3 89 8 4

		const set2 = new Set(document.querySelectorAll('div'))
		log([...set2][0].innerHTML)
		// 去除数组的重复成员  [...new Set(array)]

		let arr = [{value: 2, label: 'HH'}]
		const extractArr = arr => {
			if (Array.isArray(arr) && arr.length > 0) {
				let a = arr.reduce((pre, cur) => {
					pre.push(cur.label)
					return pre
				}, [])
				return a.join(', ')
			} else {
				return ''
			}
		}
		console.log(extractArr(arr))

		/* const objRe = {
			children: 'React',
			fontStyle: "italic",
			fontWeight: "bold",
			labelColor: "red",
			spacing: 20
		}
		const {children, fontStyle, ...props} = objRe
		console.log(children)
		console.log(fontStyle)
		console.log(props) */

		/* let arr1 = [{id: 1}, {id: 2}, {id: 3}]
		let arr2 = [{id: 1}, {id: 2}]
		let newArr1 = arr1.reduce((cur, next) => {
			next.id == 1 || next.id == 2 ? null : cur.push(next);
			return cur;
		}, []); */
		/* function matchType(fileName) {
        // 后缀获取
        var suffix = '';
        // 获取类型结果
        var result = '';
        try {
          var flieArr = fileName.split('.');
          suffix = flieArr[flieArr.length - 1];
        } catch (err) {
          suffix = '';
        }
        // fileName无后缀返回 false
        if (!suffix) {
          result = false;
          return result;
        }
        // 图片格式
        var imglist = ['png', 'jpg', 'jpeg', 'bmp', 'gif'];
        // 进行图片匹配
        result = imglist.some(function (item) {
          return item == suffix;
        });
        if (result) {
          result = 'image';
          return result;
        };
        // 匹配txt
        var txtlist = ['txt'];
        result = txtlist.some(function (item) {
          return item == suffix;
        });
        if (result) {
          result = 'txt';
          return result;
        };
        // 匹配 excel
        var excelist = ['xls', 'xlsx'];
        result = excelist.some(function (item) {
          return item == suffix;
        });
        if (result) {
          result = 'excel';
          return result;
        };
        // 匹配 word
        var wordlist = ['doc', 'docx'];
        result = wordlist.some(function (item) {
          return item == suffix;
        });
        if (result) {
          result = 'word';
          return result;
        };
        // 匹配 pdf
        var pdflist = ['pdf'];
        result = pdflist.some(function (item) {
          return item == suffix;
        });
        if (result) {
          result = 'pdf';
          return result;
        };
        // 匹配 ppt
        var pptlist = ['ppt'];
        result = pptlist.some(function (item) {
          return item == suffix;
        });
        if (result) {
          result = 'ppt';
          return result;
        };
        // 匹配 视频
        var videolist = ['mp4', 'm2v', 'mkv'];
        result = videolist.some(function (item) {
          return item == suffix;
        });
        if (result) {
          result = 'video';
          return result;
        };
        // 匹配 音频
        var radiolist = ['mp3', 'wav', 'wmv'];
        result = radiolist.some(function (item) {
          return item == suffix;
        });
        if (result) {
          result = 'radio';
          return result;
        }
        // 其他 文件类型
        result = 'other';
        return result;
      } */


		function oneAll(num) {
			const oneArr = []
			for (let i = 1; i <= num; i++) {
				if (i.toString().indexOf('1') > -1) {
					oneArr.push(i)
				}
			}
			let strArr = oneArr.join('')
			return Array.from(strArr).filter(a => a === '1').length
		}
		console.log(oneAll(21))

		function matchType(fileName) {
			var suffix = '';
			var result = '';
			try {
				var flieArr = fileName.split('.');
				suffix = flieArr[flieArr.length - 1];
			} catch (err) {
				suffix = '';
			}
			if (!suffix) {
				result = false;
				return result;
			}
			suffix = suffix.toLowerCase()
			var imglist = ['png', 'jpg', 'jpeg', 'bmp', 'gif']
			result = imglist.some(function (item) {
				return item == suffix;
			});
			if (result) {
				result = 'image';
				return result;
			}
			
			var videolist = ['mp4', 'm2v', 'mkv', 'avi', 'rmvb', 'rm', 'wmv', 'flv', 'mpeg', '3gp']
			result = videolist.some(function (item) {
				return item == suffix;
			});
			if (result) {
				result = 'video'
				return result;
			};
			
			result = 'other'
			return result;
    }
		console.log(matchType('jpg.o.MP4'))
		
	/* const matchType = fileName => {
  var suffix = ''
  var result = ''
  try {
    var flieArr = fileName.split('.')
    suffix = flieArr[flieArr.length - 1]
  } catch (err) {
    suffix = ''
  }
  if (!suffix) {
    result = false
    return result
  }
  suffix = suffix.toLowerCase()
  var imglist = ['png', 'jpg', 'jpeg', 'bmp', 'gif']
  result = imglist.some(function(item) {
    return item === suffix
  })
  if (result) {
    result = 'image'
    return result
  }
  var videolist = ['mp4', 'm2v', 'mkv', 'avi', 'rmvb', 'rm', 'wmv', 'flv', 'mpeg', '3gp']
  result = videolist.some(function(item) {
    return item === suffix
  })
  if (result) {
    result = 'video'
    return result
  };
  result = 'other'
  return result
} */
// console.log([1, 2, [3, [4, 5]]].flat())
console.log([1, 2, [3, [4, 5]]].reduce((acc, val) => acc.concat(val), []))
		



	</script>
</body>

</html>
